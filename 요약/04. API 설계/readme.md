API
===
### API를 만들 때 파라미터로 엔티티를 직접 받아서는 안된다. - DTO를 만들어야 한다.
* 프로젝트가 커질 시 관리가 어려워짐
* 엔티티가 바뀔경우 API 스펙이 바껴버림
* API 코드만 봤을 때 엔티티에 채워지는 값을 한눈에 보기 어려움
> JSON으로 넘길 시 JSON 생성이 무한루프에 빠진다면 양방향 연관관계를 `@JsonIgnore`로 끊어주면 된다.    

### Entity를 조회하는 Repository와 통계, 화면에 뿌리기위한 Repository 는 경로를 나누면 편한다.

### xToOne (ex.비 컬렉션) 의 경우 fetch join으로 대다수의 최적화가 가능하다.

### 1:N(컬렉션 포함)에서 페치 조인을 사용하면 페이징이 불가능하다.
* 조회된 결과가 1 + N이기에 페이징이 불가능 하다.
* 시도한다면 되지도 않을 뿐더러, in memory에서 페이징을 하기에 out of memory가 발생할 확률이 높다.

### 중첩 컬렉션에서 컬렉션 페치 조인을 사용 할 경우 데이터 정합성에 문제가 날 수 있다.
* 1:N:M이 된다.

### Cache(레디스)를 할 때는 엔티티를 직접 하지 않고 DTO에 적용해야 한다.
* 엔티티는 JPA가 관리하기 때문에 기대한 결과가 나오지 않을 수 있다. 그러므로 해당 엔티티의 DTO를 캐시해야한다.